<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Data Structures | Learn R</title>
  <meta name="description" content="Complete R tutorials for beginners!" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Data Structures | Learn R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/cover.png" />
  <meta property="og:description" content="Complete R tutorials for beginners!" />
  <meta name="github-repo" content="kazeera/learn-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Data Structures | Learn R" />
  
  <meta name="twitter:description" content="Complete R tutorials for beginners!" />
  <meta name="twitter:image" content="/cover.png" />

<meta name="author" content="By KazeeRa AliaR" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-programming-basics.html"/>
<link rel="next" href="importexport.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.4.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#install-r"><i class="fa fa-check"></i><b>2.1</b> Install R</a></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#install-rstudio"><i class="fa fa-check"></i><b>2.2</b> Install RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="installation.html"><a href="installation.html#terms"><i class="fa fa-check"></i><b>2.3</b> Terms</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-programming-basics.html"><a href="r-programming-basics.html"><i class="fa fa-check"></i><b>3</b> R Programming Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-programming-basics.html"><a href="r-programming-basics.html#variable-declaration"><i class="fa fa-check"></i><b>3.1</b> Variable Declaration</a></li>
<li class="chapter" data-level="3.2" data-path="r-programming-basics.html"><a href="r-programming-basics.html#basic-data-types"><i class="fa fa-check"></i><b>3.2</b> Basic Data Types</a></li>
<li class="chapter" data-level="3.3" data-path="r-programming-basics.html"><a href="r-programming-basics.html#operators"><i class="fa fa-check"></i><b>3.3</b> Operators</a></li>
<li class="chapter" data-level="3.4" data-path="r-programming-basics.html"><a href="r-programming-basics.html#practice"><i class="fa fa-check"></i><b>3.4</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>4</b> Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>4.1</b> Vectors</a></li>
<li class="chapter" data-level="4.2" data-path="data-structures.html"><a href="data-structures.html#data-frames"><i class="fa fa-check"></i><b>4.2</b> Data Frames</a></li>
<li class="chapter" data-level="4.3" data-path="data-structures.html"><a href="data-structures.html#practice-1"><i class="fa fa-check"></i><b>4.3</b> Practice</a></li>
<li class="chapter" data-level="4.4" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>4.4</b> Lists</a></li>
<li class="chapter" data-level="4.5" data-path="data-structures.html"><a href="data-structures.html#factors"><i class="fa fa-check"></i><b>4.5</b> Factors</a></li>
<li class="chapter" data-level="4.6" data-path="data-structures.html"><a href="data-structures.html#matrices"><i class="fa fa-check"></i><b>4.6</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importexport.html"><a href="importexport.html"><i class="fa fa-check"></i><b>5</b> Import/Export</a>
<ul>
<li class="chapter" data-level="5.1" data-path="importexport.html"><a href="importexport.html#export-tables"><i class="fa fa-check"></i><b>5.1</b> Export Tables</a></li>
<li class="chapter" data-level="5.2" data-path="importexport.html"><a href="importexport.html#import-tables"><i class="fa fa-check"></i><b>5.2</b> Import Tables</a></li>
<li class="chapter" data-level="5.3" data-path="importexport.html"><a href="importexport.html#graphing-with-base-r"><i class="fa fa-check"></i><b>5.3</b> Graphing with base R</a></li>
<li class="chapter" data-level="5.4" data-path="importexport.html"><a href="importexport.html#practice-2"><i class="fa fa-check"></i><b>5.4</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html"><i class="fa fa-check"></i><b>6</b> Graphing with ggplot2</a>
<ul>
<li class="chapter" data-level="6.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#what-is-ggplot2"><i class="fa fa-check"></i><b>6.1</b> What is ggplot2?</a></li>
<li class="chapter" data-level="6.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#factors-1"><i class="fa fa-check"></i><b>6.2</b> Factors</a></li>
<li class="chapter" data-level="6.3" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#r-colors"><i class="fa fa-check"></i><b>6.3</b> R Colors</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statistical-tests.html"><a href="statistical-tests.html"><i class="fa fa-check"></i><b>7</b> Statistical Tests</a>
<ul>
<li class="chapter" data-level="7.1" data-path="statistical-tests.html"><a href="statistical-tests.html#lists-1"><i class="fa fa-check"></i><b>7.1</b> Lists</a></li>
<li class="chapter" data-level="7.2" data-path="statistical-tests.html"><a href="statistical-tests.html#statistical-significance"><i class="fa fa-check"></i><b>7.2</b> Statistical Significance</a></li>
<li class="chapter" data-level="7.3" data-path="statistical-tests.html"><a href="statistical-tests.html#checks-for-normality"><i class="fa fa-check"></i><b>7.3</b> Checks for Normality</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="statistical-tests.html"><a href="statistical-tests.html#shapiro-test"><i class="fa fa-check"></i><b>7.3.1</b> Shapiro Test</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="statistical-tests.html"><a href="statistical-tests.html#one-sample-tests"><i class="fa fa-check"></i><b>7.4</b> One-Sample Tests</a></li>
<li class="chapter" data-level="7.5" data-path="statistical-tests.html"><a href="statistical-tests.html#two-sample-tests"><i class="fa fa-check"></i><b>7.5</b> Two-Sample Tests</a></li>
<li class="chapter" data-level="7.6" data-path="statistical-tests.html"><a href="statistical-tests.html#anova"><i class="fa fa-check"></i><b>7.6</b> ANOVA</a></li>
<li class="chapter" data-level="7.7" data-path="statistical-tests.html"><a href="statistical-tests.html#adding-p-values-to-ggplot"><i class="fa fa-check"></i><b>7.7</b> Adding p-values to ggplot</a></li>
<li class="chapter" data-level="7.8" data-path="statistical-tests.html"><a href="statistical-tests.html#practice-3"><i class="fa fa-check"></i><b>7.8</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="correlation-analysis.html"><a href="correlation-analysis.html"><i class="fa fa-check"></i><b>8</b> Correlation Analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="correlation-analysis.html"><a href="correlation-analysis.html#correlation-methods"><i class="fa fa-check"></i><b>8.1</b> Correlation Methods</a></li>
<li class="chapter" data-level="8.2" data-path="correlation-analysis.html"><a href="correlation-analysis.html#correlation-matrix"><i class="fa fa-check"></i><b>8.2</b> Correlation Matrix:</a></li>
<li class="chapter" data-level="8.3" data-path="correlation-analysis.html"><a href="correlation-analysis.html#practice-correlation-analysis"><i class="fa fa-check"></i><b>8.3</b> Practice: Correlation analysis</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="heatmaps.html"><a href="heatmaps.html"><i class="fa fa-check"></i><b>9</b> Heatmaps</a>
<ul>
<li class="chapter" data-level="9.1" data-path="heatmaps.html"><a href="heatmaps.html#data-preparation"><i class="fa fa-check"></i><b>9.1</b> Data preparation</a></li>
<li class="chapter" data-level="9.2" data-path="heatmaps.html"><a href="heatmaps.html#pheatmap"><i class="fa fa-check"></i><b>9.2</b> pheatmap()</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="heatmaps.html"><a href="heatmaps.html#modify-row-and-column-names"><i class="fa fa-check"></i><b>9.2.1</b> Modify row and column names</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="heatmaps.html"><a href="heatmaps.html#scaling"><i class="fa fa-check"></i><b>9.3</b> Scaling</a></li>
<li class="chapter" data-level="9.4" data-path="heatmaps.html"><a href="heatmaps.html#heatmap-colours"><i class="fa fa-check"></i><b>9.4</b> Heatmap Colours</a></li>
<li class="chapter" data-level="9.5" data-path="heatmaps.html"><a href="heatmaps.html#clustering-methods"><i class="fa fa-check"></i><b>9.5</b> Clustering methods</a></li>
<li class="chapter" data-level="9.6" data-path="heatmaps.html"><a href="heatmaps.html#create-annotations"><i class="fa fa-check"></i><b>9.6</b> Create annotations</a></li>
<li class="chapter" data-level="9.7" data-path="heatmaps.html"><a href="heatmaps.html#practice-4"><i class="fa fa-check"></i><b>9.7</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dataframe-manipulation.html"><a href="dataframe-manipulation.html"><i class="fa fa-check"></i><b>10</b> Dataframe Manipulation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dataframe-manipulation.html"><a href="dataframe-manipulation.html#reshape-data"><i class="fa fa-check"></i><b>10.1</b> Reshape Data</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="dataframe-manipulation.html"><a href="dataframe-manipulation.html#data"><i class="fa fa-check"></i><b>10.1.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="dataframe-manipulation.html"><a href="dataframe-manipulation.html#pipe-operator"><i class="fa fa-check"></i><b>10.2</b> Pipe operator</a></li>
<li class="chapter" data-level="10.3" data-path="dataframe-manipulation.html"><a href="dataframe-manipulation.html#practice-5"><i class="fa fa-check"></i><b>10.3</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="search-and-conditions.html"><a href="search-and-conditions.html"><i class="fa fa-check"></i><b>11</b> Search and Conditions</a>
<ul>
<li class="chapter" data-level="11.1" data-path="search-and-conditions.html"><a href="search-and-conditions.html#general-expressions"><i class="fa fa-check"></i><b>11.1</b> General Expressions</a></li>
<li class="chapter" data-level="11.2" data-path="search-and-conditions.html"><a href="search-and-conditions.html#conditions"><i class="fa fa-check"></i><b>11.2</b> Conditions</a></li>
<li class="chapter" data-level="11.3" data-path="search-and-conditions.html"><a href="search-and-conditions.html#any-and-all"><i class="fa fa-check"></i><b>11.3</b> any() and all()</a></li>
<li class="chapter" data-level="11.4" data-path="search-and-conditions.html"><a href="search-and-conditions.html#operators-1"><i class="fa fa-check"></i><b>11.4</b> Operators</a></li>
<li class="chapter" data-level="11.5" data-path="search-and-conditions.html"><a href="search-and-conditions.html#ifelse"><i class="fa fa-check"></i><b>11.5</b> ifelse()</a></li>
<li class="chapter" data-level="11.6" data-path="search-and-conditions.html"><a href="search-and-conditions.html#practice-6"><i class="fa fa-check"></i><b>11.6</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="repetitive-jobs.html"><a href="repetitive-jobs.html"><i class="fa fa-check"></i><b>12</b> Repetitive Jobs</a>
<ul>
<li class="chapter" data-level="12.1" data-path="repetitive-jobs.html"><a href="repetitive-jobs.html#functions"><i class="fa fa-check"></i><b>12.1</b> Functions</a></li>
<li class="chapter" data-level="12.2" data-path="repetitive-jobs.html"><a href="repetitive-jobs.html#loops"><i class="fa fa-check"></i><b>12.2</b> Loops</a></li>
<li class="chapter" data-level="12.3" data-path="repetitive-jobs.html"><a href="repetitive-jobs.html#vectorization"><i class="fa fa-check"></i><b>12.3</b> Vectorization</a></li>
<li class="chapter" data-level="12.4" data-path="repetitive-jobs.html"><a href="repetitive-jobs.html#intro-to-apply"><i class="fa fa-check"></i><b>12.4</b> Intro to apply</a></li>
<li class="chapter" data-level="12.5" data-path="repetitive-jobs.html"><a href="repetitive-jobs.html#practice-7"><i class="fa fa-check"></i><b>12.5</b> Practice</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Learn R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-structures" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Data Structures</h1>
<blockquote>
<p>Objective: Learn how to work with vectors and data frames in R.</p>
</blockquote>
<p>We will cover:</p>
<ul>
<li>vector creation using c()</li>
<li>Positive and negative indexing using []</li>
<li>Vector functions (mean, sd, sort, max, min, etc)<br />
</li>
<li>Dataframe (), how to access data [rows, cols], subset, and important functions
** Note: info about list(), factor(), and matrix() are included in this tutorial but we will not cover these structures together</li>
</ul>
<p>Data structure:
- organization, management, and storage format for data
- enables efficient access and modification</p>
<p>Based on this tutorial: <a href="http://www.sthda.com/english/wiki/easy-r-programming-basics#basic-arithmetic-operations" class="uri">http://www.sthda.com/english/wiki/easy-r-programming-basics#basic-arithmetic-operations</a></p>
<div id="vectors" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Vectors</h2>
<ul>
<li>A vector in R is a combination of multiple values of the same data type (numeric, character or logical) in the same object/variable<br />
</li>
<li>each value is called an element<br />
</li>
<li>also called “array”<br />
</li>
<li>created using the function c() (for concatenate)</li>
<li>We can give a name to the elements of a vector using the function names()</li>
</ul>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="data-structures.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Store cell types in a character vector </span></span>
<span id="cb81-2"><a href="data-structures.html#cb81-2" aria-hidden="true" tabindex="-1"></a>cell.types <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;neutrophil&quot;</span>, <span class="st">&quot;NK&quot;</span>, <span class="st">&quot;macrophage&quot;</span>, <span class="st">&quot;B-cell&quot;</span>) <span class="co"># create</span></span>
<span id="cb81-3"><a href="data-structures.html#cb81-3" aria-hidden="true" tabindex="-1"></a>cell.types <span class="co"># print</span></span></code></pre></div>
<pre><code>## [1] &quot;neutrophil&quot; &quot;NK&quot;         &quot;macrophage&quot; &quot;B-cell&quot;</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data-structures.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Store the expression level in a numeric vector (arbitrary)</span></span>
<span id="cb83-2"><a href="data-structures.html#cb83-2" aria-hidden="true" tabindex="-1"></a>expr_lvls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">78</span>,<span class="dv">20</span>,<span class="dv">53</span>,<span class="dv">0</span>)</span>
<span id="cb83-3"><a href="data-structures.html#cb83-3" aria-hidden="true" tabindex="-1"></a>expr_lvls</span></code></pre></div>
<pre><code>## [1] 78 20 53  0</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="data-structures.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Store whether it is from the myeloid lineage</span></span>
<span id="cb85-2"><a href="data-structures.html#cb85-2" aria-hidden="true" tabindex="-1"></a>is_myeloid <span class="ot">&lt;-</span> <span class="fu">c</span>(T, F, T, F)</span>
<span id="cb85-3"><a href="data-structures.html#cb85-3" aria-hidden="true" tabindex="-1"></a>is_myeloid</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="data-structures.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Name expresson levels by cell type</span></span>
<span id="cb87-2"><a href="data-structures.html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(expr_lvls) <span class="ot">&lt;-</span> cell.types</span>
<span id="cb87-3"><a href="data-structures.html#cb87-3" aria-hidden="true" tabindex="-1"></a>expr_lvls</span></code></pre></div>
<pre><code>## neutrophil         NK macrophage     B-cell 
##         78         20         53          0</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data-structures.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># conversely, can create named vector as follows:</span></span>
<span id="cb89-2"><a href="data-structures.html#cb89-2" aria-hidden="true" tabindex="-1"></a>expr_lvls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">neutrophil =</span> <span class="dv">78</span>, <span class="at">NK =</span> <span class="dv">20</span>, </span>
<span id="cb89-3"><a href="data-structures.html#cb89-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">macrophage =</span> <span class="dv">53</span>, <span class="at">B_cell =</span> <span class="dv">0</span>)</span>
<span id="cb89-4"><a href="data-structures.html#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="fu">unname</span>(expr_lvls) <span class="co">#unname </span></span></code></pre></div>
<pre><code>## [1] 78 20 53  0</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="data-structures.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># combine vectors</span></span>
<span id="cb91-2"><a href="data-structures.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(expr_lvls, cell.types) <span class="co">#converts mixed data types to the same one based on data type hierarchies, character &gt; numeric &gt; logical</span></span></code></pre></div>
<pre><code>##   neutrophil           NK   macrophage       B_cell                           
##         &quot;78&quot;         &quot;20&quot;         &quot;53&quot;          &quot;0&quot; &quot;neutrophil&quot;         &quot;NK&quot; 
##                           
## &quot;macrophage&quot;     &quot;B-cell&quot;</code></pre>
<p>Case of missing values<br />
- Missing information are represented by NA.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="data-structures.html#cb93-1" aria-hidden="true" tabindex="-1"></a>expr_lvls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">neutrophil =</span> <span class="dv">78</span>, <span class="at">NK =</span> <span class="dv">20</span>, <span class="at">macrophage =</span> <span class="dv">53</span>, <span class="at">B_cell =</span> <span class="cn">NA</span>)</span>
<span id="cb93-2"><a href="data-structures.html#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(expr_lvls) <span class="co"># note: an example of vectorization where you can apply a function to a vector as if it were just one value</span></span></code></pre></div>
<pre><code>## neutrophil         NK macrophage     B_cell 
##      FALSE      FALSE      FALSE       TRUE</code></pre>
<p>Other ways to create vectors:<br />
* using : operator<br />
* using seq() function (create a sequence)</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-structures.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a numeric vector using :</span></span>
<span id="cb95-2"><a href="data-structures.html#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span> </span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data-structures.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify first and last element using seq()</span></span>
<span id="cb97-2"><a href="data-structures.html#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="fl">1.2</span>, <span class="at">to =</span> <span class="dv">3</span>, <span class="at">by=</span><span class="fl">0.2</span>)   <span class="co"># specify step size</span></span></code></pre></div>
<pre><code>##  [1] 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="data-structures.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="at">length.out=</span><span class="dv">4</span>)    <span class="co"># specify length of the vector</span></span></code></pre></div>
<pre><code>## [1] 1.000000 2.333333 3.666667 5.000000</code></pre>
<p><strong>Access elements of a vector</strong></p>
<ul>
<li>Elements of a vector can be accessed using vector indexing<br />
</li>
<li>the vector used for indexing can be logical, integer or character vector</li>
</ul>
<p><strong>Using integer vector as index</strong></p>
<ul>
<li>Vector index in R starts from 1 (unlike most programming languages where index start from 0)<br />
</li>
<li>We can use a vector of integers as index to access specific elements<br />
</li>
<li>We can use negative integers to return all elements except that those specified</li>
</ul>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="data-structures.html#cb101-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb101-2"><a href="data-structures.html#cb101-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span>]  </span></code></pre></div>
<pre><code>## [1] 13</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="data-structures.html#cb103-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)]     <span class="co"># access 2nd and 4th element</span></span></code></pre></div>
<pre><code>## [1] 12 14</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="data-structures.html#cb105-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span>]          <span class="co"># access all but 1st element</span></span></code></pre></div>
<pre><code>## [1] 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-structures.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># x[c(2, -4)]    # ERROR: cannot mix positive and negative integers</span></span>
<span id="cb107-2"><a href="data-structures.html#cb107-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="fl">2.4</span>, <span class="fl">3.54</span>)]    <span class="co"># real numbers are truncated to integers</span></span></code></pre></div>
<pre><code>## [1] 12 13</code></pre>
<p>NOTE: I am not saving my output into a variable so it does not modify the original “x” variable</p>
<p><strong>Using logical vector as index</strong>
- When we use a logical vector for indexing, the position where the logical vector is TRUE is returned</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="data-structures.html#cb109-1" aria-hidden="true" tabindex="-1"></a>intensity_lvl <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">322</span>, <span class="dv">39</span>, <span class="dv">234</span>, <span class="dv">890</span>)</span>
<span id="cb109-2"><a href="data-structures.html#cb109-2" aria-hidden="true" tabindex="-1"></a>intensity_lvl[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)] <span class="co">#length of logical vector must match length of vector</span></span></code></pre></div>
<pre><code>## [1] 322 890</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="data-structures.html#cb111-1" aria-hidden="true" tabindex="-1"></a>THRESHOLD <span class="ot">&lt;-</span> <span class="dv">300</span></span>
<span id="cb111-2"><a href="data-structures.html#cb111-2" aria-hidden="true" tabindex="-1"></a>intensity_lvl[intensity_lvl <span class="sc">&lt;</span> THRESHOLD]  <span class="co"># filtering vectors based on conditions</span></span></code></pre></div>
<pre><code>## [1]  39 234</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="data-structures.html#cb113-1" aria-hidden="true" tabindex="-1"></a>intensity_lvl[intensity_lvl <span class="sc">&gt;</span> <span class="dv">0</span>]</span></code></pre></div>
<pre><code>## [1] 322  39 234 890</code></pre>
<p><strong>Using character vector as index</strong>
- This type of indexing is useful when dealing with named vectors</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="data-structures.html#cb115-1" aria-hidden="true" tabindex="-1"></a>expr_lvls <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">neutrophil =</span> <span class="dv">78</span>, <span class="at">NK =</span> <span class="dv">20</span>, <span class="at">macrophage =</span> <span class="dv">53</span>, <span class="at">B_cell =</span> <span class="cn">NA</span>)</span>
<span id="cb115-2"><a href="data-structures.html#cb115-2" aria-hidden="true" tabindex="-1"></a>expr_lvls[<span class="st">&quot;neutrophil&quot;</span>]</span></code></pre></div>
<pre><code>## neutrophil 
##         78</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="data-structures.html#cb117-1" aria-hidden="true" tabindex="-1"></a>expr_lvls[<span class="fu">c</span>(<span class="st">&quot;neutrophil&quot;</span>, <span class="st">&quot;NK&quot;</span>)]</span></code></pre></div>
<pre><code>## neutrophil         NK 
##         78         20</code></pre>
<p><strong>Modify and delete vectors</strong>
- access specific elements and modify them using the assignment operator<br />
- perform arithmetic and logical operations on the vector<br />
- delete using NULL keyword</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="data-structures.html#cb119-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb119-2"><a href="data-structures.html#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="co"># modify the first element </span></span>
<span id="cb119-3"><a href="data-structures.html#cb119-3" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb119-4"><a href="data-structures.html#cb119-4" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 15  2  3  4</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="data-structures.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co"># arithmetic operator</span></span>
<span id="cb121-2"><a href="data-structures.html#cb121-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 17  4  5  6</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data-structures.html#cb123-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">/</span>x</span></code></pre></div>
<pre><code>## [1] 1 1 1 1</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data-structures.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># logical operator</span></span>
<span id="cb125-2"><a href="data-structures.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="fu">c</span>(T,F)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-structures.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># delete vector </span></span>
<span id="cb127-2"><a href="data-structures.html#cb127-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb127-3"><a href="data-structures.html#cb127-3" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p><strong>Vector functions</strong></p>
<ul>
<li>Some useful functions are:</li>
</ul>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="data-structures.html#cb129-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>)</span>
<span id="cb129-2"><a href="data-structures.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x) <span class="co"># Get the maximum value of x</span></span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="data-structures.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(x) <span class="co"># Get the minimum value of x</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="data-structures.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(x) <span class="co"># Get the range of x (min, max) </span></span></code></pre></div>
<pre><code>## [1]  10 100</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="data-structures.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x) <span class="co"># Get the number of elements in x</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="data-structures.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x) <span class="co"># Get the total of the elements in x</span></span></code></pre></div>
<pre><code>## [1] 550</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="data-structures.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prod</span>(x) <span class="co"># Get the product of the elements in x</span></span></code></pre></div>
<pre><code>## [1] 3.6288e+16</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="data-structures.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x) <span class="co"># The mean value of the elements in x - sum(x)/length(x)</span></span></code></pre></div>
<pre><code>## [1] 55</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="data-structures.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x) <span class="co"># Standard deviation of x</span></span></code></pre></div>
<pre><code>## [1] 30.2765</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="data-structures.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(x) <span class="co"># Variance of x</span></span></code></pre></div>
<pre><code>## [1] 916.6667</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="data-structures.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(x) <span class="co"># Sort the element of x in ascending order</span></span></code></pre></div>
<pre><code>##  [1]  10  20  30  40  50  60  70  80  90 100</code></pre>
<p>Note: if you want to exclude NAs, most of these functions have a na.rm argument.</p>
</div>
<div id="data-frames" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Data Frames</h2>
<ul>
<li>Data frames is a table (matrix-like 2D object) where columns can have different vector types (numeric, character, logical)</li>
<li>Arguably the most useful data structure in R<br />
</li>
<li>Create a data frame using data.frame(), specifying columns</li>
</ul>
<p><strong>Some important functions</strong></p>
<ul>
<li>dim(), nrow() and ncol() - return the dimensions, number of rows and columns<br />
</li>
<li>summary(), str() - give you information like stats, dimensions, data types, etc in your data frame</li>
<li>rownames() - retrieve or set row names of a matrix-like object<br />
</li>
<li>colnames() - retrieve or set column names of a matrix-like object<br />
</li>
<li>cbind() - combine R objects by columns<br />
</li>
<li>rbind() - combine R objects by rows<br />
</li>
<li>t() - transpose the matrix (columns become rows and vice-versa)<br />
</li>
<li>rowSums() and colSums() functions: Compute the total of each row and the total of each column (when data frame is numeric)</li>
</ul>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="data-structures.html#cb149-1" aria-hidden="true" tabindex="-1"></a>cells_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb149-2"><a href="data-structures.html#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> cell.types,</span>
<span id="cb149-3"><a href="data-structures.html#cb149-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Expression =</span> expr_lvls,</span>
<span id="cb149-4"><a href="data-structures.html#cb149-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">myeloid_lineage =</span> is_myeloid,</span>
<span id="cb149-5"><a href="data-structures.html#cb149-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Intensity1 =</span> <span class="fu">c</span>(<span class="dv">258</span>, <span class="cn">NA</span>, <span class="dv">185</span>, <span class="dv">290</span>),</span>
<span id="cb149-6"><a href="data-structures.html#cb149-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> F <span class="co"># set this to F for now, think of factors levels of for vectors</span></span>
<span id="cb149-7"><a href="data-structures.html#cb149-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb149-8"><a href="data-structures.html#cb149-8" aria-hidden="true" tabindex="-1"></a>cells_df</span></code></pre></div>
<pre><code>##                  Name Expression myeloid_lineage Intensity1
## neutrophil neutrophil         78            TRUE        258
## NK                 NK         20           FALSE         NA
## macrophage macrophage         53            TRUE        185
## B_cell         B-cell         NA           FALSE        290</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="data-structures.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if it&#39;s a data frame</span></span>
<span id="cb151-2"><a href="data-structures.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(cells_df)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="data-structures.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get dimensions</span></span>
<span id="cb153-2"><a href="data-structures.html#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(cells_df)</span></code></pre></div>
<pre><code>## [1] 4 4</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="data-structures.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get column names</span></span>
<span id="cb155-2"><a href="data-structures.html#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cells_df)</span></code></pre></div>
<pre><code>## [1] &quot;Name&quot;            &quot;Expression&quot;      &quot;myeloid_lineage&quot; &quot;Intensity1&quot;</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="data-structures.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename rows</span></span>
<span id="cb157-2"><a href="data-structures.html#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(cells_df) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;Cell&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(cells_df), <span class="at">sep =</span><span class="st">&quot;.&quot;</span>)</span>
<span id="cb157-3"><a href="data-structures.html#cb157-3" aria-hidden="true" tabindex="-1"></a>cells_df</span></code></pre></div>
<pre><code>##              Name Expression myeloid_lineage Intensity1
## Cell.1 neutrophil         78            TRUE        258
## Cell.2         NK         20           FALSE         NA
## Cell.3 macrophage         53            TRUE        185
## Cell.4     B-cell         NA           FALSE        290</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="data-structures.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add column/row # </span><span class="al">NOTE</span><span class="co"> AGAIN: if I don&#39;t save my code into a variable, it does not modify the original dataframe</span></span>
<span id="cb159-2"><a href="data-structures.html#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(cells_df, <span class="at">Intensity2 =</span> <span class="fu">c</span>(<span class="dv">3315</span>, <span class="dv">458</span>, <span class="dv">5643</span>, <span class="dv">100</span>)) </span></code></pre></div>
<pre><code>##              Name Expression myeloid_lineage Intensity1 Intensity2
## Cell.1 neutrophil         78            TRUE        258       3315
## Cell.2         NK         20           FALSE         NA        458
## Cell.3 macrophage         53            TRUE        185       5643
## Cell.4     B-cell         NA           FALSE        290        100</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="data-structures.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(cells_df, <span class="at">Cell.5 =</span> <span class="fu">c</span>(<span class="st">&quot;mast cell&quot;</span>, <span class="cn">NA</span>, T, <span class="dv">452</span>))</span></code></pre></div>
<pre><code>##              Name Expression myeloid_lineage Intensity1
## Cell.1 neutrophil         78            TRUE        258
## Cell.2         NK         20           FALSE       &lt;NA&gt;
## Cell.3 macrophage         53            TRUE        185
## Cell.4     B-cell       &lt;NA&gt;           FALSE        290
## Cell.5  mast cell       &lt;NA&gt;            TRUE        452</code></pre>
<p><strong>Access and subset a data frame</strong></p>
<ul>
<li><p>Access columns and rows by indexing by name and by location<br />
</p></li>
<li><p>Format is dataframe[row,column] # think of your rows and columns as vectors</p></li>
<li><p>Access columns by dollar sign $</p></li>
</ul>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="data-structures.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the data in &#39;name&#39; column</span></span>
<span id="cb163-2"><a href="data-structures.html#cb163-2" aria-hidden="true" tabindex="-1"></a>cells_df[,<span class="dv">1</span>] <span class="co"># index by location</span></span></code></pre></div>
<pre><code>## [1] &quot;neutrophil&quot; &quot;NK&quot;         &quot;macrophage&quot; &quot;B-cell&quot;</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="data-structures.html#cb165-1" aria-hidden="true" tabindex="-1"></a>cells_df[,<span class="st">&quot;Name&quot;</span>] <span class="co"># index by name of column</span></span></code></pre></div>
<pre><code>## [1] &quot;neutrophil&quot; &quot;NK&quot;         &quot;macrophage&quot; &quot;B-cell&quot;</code></pre>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="data-structures.html#cb167-1" aria-hidden="true" tabindex="-1"></a>cells_df<span class="sc">$</span>Name <span class="co"># access using $</span></span></code></pre></div>
<pre><code>## [1] &quot;neutrophil&quot; &quot;NK&quot;         &quot;macrophage&quot; &quot;B-cell&quot;</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="data-structures.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the data for Cell 2 </span></span>
<span id="cb169-2"><a href="data-structures.html#cb169-2" aria-hidden="true" tabindex="-1"></a>cells_df[<span class="st">&quot;Cell.2&quot;</span>,]</span></code></pre></div>
<pre><code>##        Name Expression myeloid_lineage Intensity1
## Cell.2   NK         20           FALSE         NA</code></pre>
<ul>
<li>Subset using logical expressions, positive indexing (specifiy which columns/rows to keep), and negative indexing to exclude columns/rows</li>
<li>Subset using the subset() function</li>
<li>If you subset using vectors with more than one element, it returns a dataframe, if not it will return a vector</li>
<li>Modify the same way as vectors (specify which rows/columns value to access and use assignment to assign new values)</li>
</ul>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="data-structures.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset by selecting first 3 rows (both lines of code do the same thing)</span></span>
<span id="cb171-2"><a href="data-structures.html#cb171-2" aria-hidden="true" tabindex="-1"></a>cells_df[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), ] </span></code></pre></div>
<pre><code>##              Name Expression myeloid_lineage Intensity1
## Cell.1 neutrophil         78            TRUE        258
## Cell.2         NK         20           FALSE         NA
## Cell.3 macrophage         53            TRUE        185</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="data-structures.html#cb173-1" aria-hidden="true" tabindex="-1"></a>cells_df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span></code></pre></div>
<pre><code>##              Name Expression myeloid_lineage Intensity1
## Cell.1 neutrophil         78            TRUE        258
## Cell.2         NK         20           FALSE         NA
## Cell.3 macrophage         53            TRUE        185</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="data-structures.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset by using character vector</span></span>
<span id="cb175-2"><a href="data-structures.html#cb175-2" aria-hidden="true" tabindex="-1"></a>parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Expression&quot;</span>, <span class="st">&quot;Intensity1&quot;</span>)</span>
<span id="cb175-3"><a href="data-structures.html#cb175-3" aria-hidden="true" tabindex="-1"></a>cells_df2 <span class="ot">&lt;-</span> cells_df[,parameters]</span>
<span id="cb175-4"><a href="data-structures.html#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="fu">log2</span>(cells_df2) <span class="co"># perform functions depending on data type</span></span></code></pre></div>
<pre><code>##        Expression Intensity1
## Cell.1   6.285402   8.011227
## Cell.2   4.321928         NA
## Cell.3   5.727920   7.531381
## Cell.4         NA   8.179909</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="data-structures.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># log2(cells_df) #ERROR: log2 only works when all columns numeric</span></span>
<span id="cb177-2"><a href="data-structures.html#cb177-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-3"><a href="data-structures.html#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset by selecting the rows that meet the condition (both lines of code do the same thing)</span></span>
<span id="cb177-4"><a href="data-structures.html#cb177-4" aria-hidden="true" tabindex="-1"></a>cells_df[cells_df<span class="sc">$</span>Expression <span class="sc">&gt;=</span> <span class="dv">25</span>, ]</span></code></pre></div>
<pre><code>##              Name Expression myeloid_lineage Intensity1
## Cell.1 neutrophil         78            TRUE        258
## Cell.3 macrophage         53            TRUE        185
## NA           &lt;NA&gt;         NA              NA         NA</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="data-structures.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(cells_df, <span class="at">subset =</span> Expression <span class="sc">&gt;=</span> <span class="dv">25</span>)</span></code></pre></div>
<pre><code>##              Name Expression myeloid_lineage Intensity1
## Cell.1 neutrophil         78            TRUE        258
## Cell.3 macrophage         53            TRUE        185</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="data-structures.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reassign all NA to 0</span></span>
<span id="cb181-2"><a href="data-structures.html#cb181-2" aria-hidden="true" tabindex="-1"></a>cells_df[<span class="fu">is.na</span>(cells_df)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb181-3"><a href="data-structures.html#cb181-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-4"><a href="data-structures.html#cb181-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Can add and remove columns using $</span></span>
<span id="cb181-5"><a href="data-structures.html#cb181-5" aria-hidden="true" tabindex="-1"></a>cells_df<span class="sc">$</span>Intensity2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3315</span>, <span class="dv">458</span>, <span class="dv">5643</span>, <span class="dv">100</span>) <span class="co"># add column, alternative to cbind()</span></span>
<span id="cb181-6"><a href="data-structures.html#cb181-6" aria-hidden="true" tabindex="-1"></a>cells_df</span></code></pre></div>
<pre><code>##              Name Expression myeloid_lineage Intensity1 Intensity2
## Cell.1 neutrophil         78            TRUE        258       3315
## Cell.2         NK         20           FALSE          0        458
## Cell.3 macrophage         53            TRUE        185       5643
## Cell.4     B-cell          0           FALSE        290        100</code></pre>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="data-structures.html#cb183-1" aria-hidden="true" tabindex="-1"></a>cells_df<span class="sc">$</span>Intensity2 <span class="ot">&lt;-</span> <span class="cn">NULL</span> <span class="co"># remove column</span></span></code></pre></div>
</div>
<div id="practice-1" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Practice</h2>
<p>You are gathering information about your family members (alternatively, your friends or coworkers).<br />
a) Make a vector of their names.<br />
b) Who is the first person you wrote down? (i.e. Get the first element)
c) Make a vector of their ages (in same order as part a)).<br />
d) Make a vector if they’re a kid or not (TRUE/FALSE).<br />
e) Make a data frame of your family members with column names: Name, Age, Is_Kid.
f) Sort their names by alphabetical order. The output should be saved to a data frame variable. (Look this up if you don’t know how to!)<br />
g) Subset your data frame so only rows of the members that are children shows (do not save as variable).
h) Subset your data frame so only rows of the members that are older than 20 years old show (do not save as variable).<br />
i) Add 1 to the ages of all your members in one line of code.<br />
j) Remove the Is_Kid column.</p>
<p>Solution:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="data-structures.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a) Make a vector using c() </span></span>
<span id="cb184-2"><a href="data-structures.html#cb184-2" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Tinky Winky&quot;</span>, <span class="st">&quot;Dipsy&quot;</span>, <span class="st">&quot;Laa Laa&quot;</span>, <span class="st">&quot;Po&quot;</span>)</span>
<span id="cb184-3"><a href="data-structures.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="co"># b) Use positive indexing</span></span>
<span id="cb184-4"><a href="data-structures.html#cb184-4" aria-hidden="true" tabindex="-1"></a>names[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Tinky Winky&quot;</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="data-structures.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="co"># c) Make a vector using c()</span></span>
<span id="cb186-2"><a href="data-structures.html#cb186-2" aria-hidden="true" tabindex="-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">21</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">2</span>)</span>
<span id="cb186-3"><a href="data-structures.html#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="co"># d) Make a logical vector using c()</span></span>
<span id="cb186-4"><a href="data-structures.html#cb186-4" aria-hidden="true" tabindex="-1"></a>is_kid <span class="ot">&lt;-</span> <span class="fu">c</span>(F,T,T,T)</span>
<span id="cb186-5"><a href="data-structures.html#cb186-5" aria-hidden="true" tabindex="-1"></a><span class="co"># e) Make a data frame using data.frame()</span></span>
<span id="cb186-6"><a href="data-structures.html#cb186-6" aria-hidden="true" tabindex="-1"></a>family <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Name =</span> names, <span class="at">Age =</span> ages, <span class="at">Is_Kid =</span> is_kid)</span>
<span id="cb186-7"><a href="data-structures.html#cb186-7" aria-hidden="true" tabindex="-1"></a>family</span></code></pre></div>
<pre><code>##          Name Age Is_Kid
## 1 Tinky Winky  21  FALSE
## 2       Dipsy  10   TRUE
## 3     Laa Laa  10   TRUE
## 4          Po   2   TRUE</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="data-structures.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># f) https://www.r-bloggers.com/r-sorting-a-data-frame-by-the-contents-of-a-column/</span></span>
<span id="cb188-2"><a href="data-structures.html#cb188-2" aria-hidden="true" tabindex="-1"></a>sorted_family <span class="ot">&lt;-</span> family[<span class="fu">order</span>(family<span class="sc">$</span>Name),]   </span>
<span id="cb188-3"><a href="data-structures.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="co"># g) Logical vector or subset()</span></span>
<span id="cb188-4"><a href="data-structures.html#cb188-4" aria-hidden="true" tabindex="-1"></a>sorted_family[sorted_family<span class="sc">$</span>Is_Kid,]</span></code></pre></div>
<pre><code>##      Name Age Is_Kid
## 2   Dipsy  10   TRUE
## 3 Laa Laa  10   TRUE
## 4      Po   2   TRUE</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="data-structures.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(sorted_family, <span class="at">subset =</span> Is_Kid)</span></code></pre></div>
<pre><code>##      Name Age Is_Kid
## 2   Dipsy  10   TRUE
## 3 Laa Laa  10   TRUE
## 4      Po   2   TRUE</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="data-structures.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># h) subset using logical vector</span></span>
<span id="cb192-2"><a href="data-structures.html#cb192-2" aria-hidden="true" tabindex="-1"></a>sorted_family[sorted_family<span class="sc">$</span>Age <span class="sc">&gt;</span> <span class="dv">20</span>,]</span></code></pre></div>
<pre><code>##          Name Age Is_Kid
## 1 Tinky Winky  21  FALSE</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="data-structures.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(sorted_family, <span class="at">subset =</span> Age <span class="sc">&gt;</span> <span class="dv">20</span>)</span></code></pre></div>
<pre><code>##          Name Age Is_Kid
## 1 Tinky Winky  21  FALSE</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="data-structures.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># i) modify the Age column only</span></span>
<span id="cb196-2"><a href="data-structures.html#cb196-2" aria-hidden="true" tabindex="-1"></a>sorted_family<span class="sc">$</span>Age <span class="ot">&lt;-</span> sorted_family<span class="sc">$</span>Age <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb196-3"><a href="data-structures.html#cb196-3" aria-hidden="true" tabindex="-1"></a><span class="co"># j) Using negative indexing or assigning column to NULL</span></span>
<span id="cb196-4"><a href="data-structures.html#cb196-4" aria-hidden="true" tabindex="-1"></a>sorted_family<span class="sc">$</span>Is_Kid <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb196-5"><a href="data-structures.html#cb196-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Or sorted_family &lt;- sorted_family[, - which (colnames(sorted_family) == &quot;Is_Kid&quot;)]</span></span></code></pre></div>
</div>
<div id="lists" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Lists</h2>
<ul>
<li>A list is another data structure</li>
<li>It is an ordered collection of objects, which can be vectors, matrices, data frames, etc. In other words, a list can contain all kind of R objects.</li>
<li>List elements can be accessed by $Name_of_Element or [[index_of_element]]</li>
</ul>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="data-structures.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list</span></span>
<span id="cb197-2"><a href="data-structures.html#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Elements can be any type and structure, including vectors and data frames</span></span>
<span id="cb197-3"><a href="data-structures.html#cb197-3" aria-hidden="true" tabindex="-1"></a>my_family <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb197-4"><a href="data-structures.html#cb197-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">mother =</span> <span class="st">&quot;Veronique&quot;</span>, </span>
<span id="cb197-5"><a href="data-structures.html#cb197-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">father =</span> <span class="st">&quot;Michel&quot;</span>,</span>
<span id="cb197-6"><a href="data-structures.html#cb197-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">sisters =</span> <span class="fu">c</span>(<span class="st">&quot;Alicia&quot;</span>, <span class="st">&quot;Monica&quot;</span>),</span>
<span id="cb197-7"><a href="data-structures.html#cb197-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sister_age =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">22</span>)</span>
<span id="cb197-8"><a href="data-structures.html#cb197-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb197-9"><a href="data-structures.html#cb197-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print</span></span>
<span id="cb197-10"><a href="data-structures.html#cb197-10" aria-hidden="true" tabindex="-1"></a>my_family</span></code></pre></div>
<pre><code>## $mother
## [1] &quot;Veronique&quot;
## 
## $father
## [1] &quot;Michel&quot;
## 
## $sisters
## [1] &quot;Alicia&quot; &quot;Monica&quot;
## 
## $sister_age
## [1] 12 22</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="data-structures.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Names of elements in the list</span></span>
<span id="cb199-2"><a href="data-structures.html#cb199-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_family)</span></code></pre></div>
<pre><code>## [1] &quot;mother&quot;     &quot;father&quot;     &quot;sisters&quot;    &quot;sister_age&quot;</code></pre>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="data-structures.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of elements in the list</span></span>
<span id="cb201-2"><a href="data-structures.html#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(my_family)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="data-structures.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset a list - select element by its name or its index</span></span>
<span id="cb203-2"><a href="data-structures.html#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Select by name (1/2)</span></span>
<span id="cb203-3"><a href="data-structures.html#cb203-3" aria-hidden="true" tabindex="-1"></a>my_family<span class="sc">$</span>father</span></code></pre></div>
<pre><code>## [1] &quot;Michel&quot;</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="data-structures.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select by name (2/2)</span></span>
<span id="cb205-2"><a href="data-structures.html#cb205-2" aria-hidden="true" tabindex="-1"></a>my_family[[<span class="st">&quot;father&quot;</span>]]</span></code></pre></div>
<pre><code>## [1] &quot;Michel&quot;</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="data-structures.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select a specific element of a component</span></span>
<span id="cb207-2"><a href="data-structures.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="co"># select the first ([1]) element of my_family[[3]]</span></span>
<span id="cb207-3"><a href="data-structures.html#cb207-3" aria-hidden="true" tabindex="-1"></a>my_family[[<span class="st">&quot;sisters&quot;</span>]][<span class="dv">1</span>] </span></code></pre></div>
<pre><code>## [1] &quot;Alicia&quot;</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="data-structures.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to list </span></span>
<span id="cb209-2"><a href="data-structures.html#cb209-2" aria-hidden="true" tabindex="-1"></a>my_family<span class="sc">$</span>brother <span class="ot">&lt;-</span> <span class="st">&quot;Toby&quot;</span></span></code></pre></div>
</div>
<div id="factors" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Factors</h2>
<ul>
<li>Factor variables represent categories or groups in your data. The function factor() can be used to create a factor variable.</li>
<li>R orders factor levels alphabetically, so if you want to redefine the order, do it in the factor() function call</li>
</ul>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="data-structures.html#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a factor variable</span></span>
<span id="cb210-2"><a href="data-structures.html#cb210-2" aria-hidden="true" tabindex="-1"></a>friend_groups <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb210-3"><a href="data-structures.html#cb210-3" aria-hidden="true" tabindex="-1"></a>friend_groups</span></code></pre></div>
<pre><code>## [1] 1 2 1 2
## Levels: 1 2</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="data-structures.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get group names (or levels)</span></span>
<span id="cb212-2"><a href="data-structures.html#cb212-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(friend_groups)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot;</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="data-structures.html#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change levels</span></span>
<span id="cb214-2"><a href="data-structures.html#cb214-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(friend_groups) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;best_friend&quot;</span>, <span class="st">&quot;not_best_friend&quot;</span>)</span>
<span id="cb214-3"><a href="data-structures.html#cb214-3" aria-hidden="true" tabindex="-1"></a>friend_groups</span></code></pre></div>
<pre><code>## [1] best_friend     not_best_friend best_friend     not_best_friend
## Levels: best_friend not_best_friend</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="data-structures.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the order of levels</span></span>
<span id="cb216-2"><a href="data-structures.html#cb216-2" aria-hidden="true" tabindex="-1"></a>friend_groups <span class="ot">&lt;-</span> <span class="fu">factor</span>(friend_groups, </span>
<span id="cb216-3"><a href="data-structures.html#cb216-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;not_best_friend&quot;</span>, <span class="st">&quot;best_friend&quot;</span>))</span>
<span id="cb216-4"><a href="data-structures.html#cb216-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print</span></span>
<span id="cb216-5"><a href="data-structures.html#cb216-5" aria-hidden="true" tabindex="-1"></a>friend_groups</span></code></pre></div>
<pre><code>## [1] best_friend     not_best_friend best_friend     not_best_friend
## Levels: not_best_friend best_friend</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="data-structures.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if friend_groups is a factor</span></span>
<span id="cb218-2"><a href="data-structures.html#cb218-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(friend_groups)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="data-structures.html#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert a character_vector as a factor</span></span>
<span id="cb220-2"><a href="data-structures.html#cb220-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;D&quot;</span>))</span></code></pre></div>
<pre><code>## [1] A B D
## Levels: A B D</code></pre>
</div>
<div id="matrices" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Matrices</h2>
<ul>
<li>A matrix is a table containing multiple rows and columns of vectors with the same type, which can be either numeric, character or logical.</li>
<li>To create easily a matrix, use the function cbind() or rbind() and perform similar functions to data frames</li>
<li>Convert to data frame using as.data.frame()</li>
</ul>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="data-structures.html#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Numeric vectors</span></span>
<span id="cb222-2"><a href="data-structures.html#cb222-2" aria-hidden="true" tabindex="-1"></a>col1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</span>
<span id="cb222-3"><a href="data-structures.html#cb222-3" aria-hidden="true" tabindex="-1"></a>col2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">8</span>)</span>
<span id="cb222-4"><a href="data-structures.html#cb222-4" aria-hidden="true" tabindex="-1"></a>col3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">8</span>, <span class="dv">7</span>)</span>
<span id="cb222-5"><a href="data-structures.html#cb222-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the vectors by column</span></span>
<span id="cb222-6"><a href="data-structures.html#cb222-6" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">cbind</span>(col1, col2, col3)</span>
<span id="cb222-7"><a href="data-structures.html#cb222-7" aria-hidden="true" tabindex="-1"></a>my_data</span></code></pre></div>
<pre><code>##      col1 col2 col3
## [1,]    5    2    7
## [2,]    6    4    3
## [3,]    7    5    4
## [4,]    8    9    8
## [5,]    9    8    7</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="data-structures.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change rownames</span></span>
<span id="cb224-2"><a href="data-structures.html#cb224-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(my_data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;row1&quot;</span>, <span class="st">&quot;row2&quot;</span>, <span class="st">&quot;row3&quot;</span>, <span class="st">&quot;row4&quot;</span>, <span class="st">&quot;row5&quot;</span>)</span>
<span id="cb224-3"><a href="data-structures.html#cb224-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Transpose</span></span>
<span id="cb224-4"><a href="data-structures.html#cb224-4" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(my_data)</span></code></pre></div>
<pre><code>##      row1 row2 row3 row4 row5
## col1    5    6    7    8    9
## col2    2    4    5    9    8
## col3    7    3    4    8    7</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="data-structures.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dimensions</span></span>
<span id="cb226-2"><a href="data-structures.html#cb226-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(my_data) <span class="co"># Number of columns</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="data-structures.html#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(my_data) <span class="co"># Number of rows</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="data-structures.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(my_data) <span class="co"># Number of rows and columns</span></span></code></pre></div>
<pre><code>## [1] 5 3</code></pre>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="data-structures.html#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset by positive indexing</span></span>
<span id="cb232-2"><a href="data-structures.html#cb232-2" aria-hidden="true" tabindex="-1"></a>my_data[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>, ] <span class="co"># Select row number 2 to 4</span></span></code></pre></div>
<pre><code>##      col1 col2 col3
## row2    6    4    3
## row3    7    5    4
## row4    8    9    8</code></pre>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="data-structures.html#cb234-1" aria-hidden="true" tabindex="-1"></a>my_data[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>), ] <span class="co"># rows 2 and 4 but not 3</span></span></code></pre></div>
<pre><code>##      col1 col2 col3
## row2    6    4    3
## row4    8    9    8</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="data-structures.html#cb236-1" aria-hidden="true" tabindex="-1"></a>my_data[, <span class="st">&quot;col2&quot;</span>] <span class="co"># Select by column 2&#39;s name &quot;col2&quot;</span></span></code></pre></div>
<pre><code>## row1 row2 row3 row4 row5 
##    2    4    5    9    8</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="data-structures.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exclude rows/columns by negative indexing</span></span>
<span id="cb238-2"><a href="data-structures.html#cb238-2" aria-hidden="true" tabindex="-1"></a>my_data[, <span class="sc">-</span><span class="dv">1</span>] <span class="co"># Exclude column 1</span></span></code></pre></div>
<pre><code>##      col2 col3
## row1    2    7
## row2    4    3
## row3    5    4
## row4    9    8
## row5    8    7</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="data-structures.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform simple operations on matrice</span></span>
<span id="cb240-2"><a href="data-structures.html#cb240-2" aria-hidden="true" tabindex="-1"></a><span class="fu">log2</span>(my_data)</span></code></pre></div>
<pre><code>##          col1     col2     col3
## row1 2.321928 1.000000 2.807355
## row2 2.584963 2.000000 1.584963
## row3 2.807355 2.321928 2.000000
## row4 3.000000 3.169925 3.000000
## row5 3.169925 3.000000 2.807355</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="data-structures.html#cb242-1" aria-hidden="true" tabindex="-1"></a>my_data<span class="sc">*</span><span class="dv">3</span> </span></code></pre></div>
<pre><code>##      col1 col2 col3
## row1   15    6   21
## row2   18   12    9
## row3   21   15   12
## row4   24   27   24
## row5   27   24   21</code></pre>
<ul>
<li>You may also construct a matrix using the matrix() function</li>
</ul>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="data-structures.html#cb244-1" aria-hidden="true" tabindex="-1"></a>mdat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>, <span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>), </span>
<span id="cb244-2"><a href="data-structures.html#cb244-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>,</span>
<span id="cb244-3"><a href="data-structures.html#cb244-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;row1&quot;</span>, <span class="st">&quot;row2&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;C.1&quot;</span>, <span class="st">&quot;C.2&quot;</span>, <span class="st">&quot;C.3&quot;</span>)))</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-programming-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="importexport.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
